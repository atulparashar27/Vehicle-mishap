<div class="form-group">
    <div class="card col-md-12 col-sm-12">
        <div class="card-body">
            <div class="row">
                <div class="col-md-4">
                    <div class="row">
                        <label class="col-md-3 col-form-label requiredField">
                            Activity
                        </label>
                        <div class="col-md-9">
                            <div class="form-group">
                                <ng-multiselect-dropdown [placeholder]="'-- Select Activity --'"
                                    [settings]="dropdownSettings" [(ngModel)]="selectedActivityCode"
                                    [data]="allActivityDDList">
                                </ng-multiselect-dropdown>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="row">
                        <label class="col-md-3 col-form-label requiredField">
                            Date
                        </label>
                        <div class="col-md-9">
                            <div class="form-group">
                                <input class="form-control" autocomplete="off" id="attendDate" name="date"
                                    class="form-control" [(bsValue)]="attendDate"
                                    value="{{ attendDate | date:'dd-MM-yyyy' }}" placeholder="Attendance Date"
                                    type="text" [bsConfig]="{ isAnimated: true, containerClass: 'theme-dark-blue',
                                    dateInputFormat: 'DD-MM-YYYY' }" bsDatepicker [maxDate]="futureDateDisabled" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="row" style="margin-bottom: -19px;margin-top: -9px;">
                        <div class="form-group">
                            <button type="submit" class="btn btn-primary btn-round" (click)="getSavedAttendance()"
                                [disabled]="!attendDate || selectedActivityCode.length === 0">
                                <i class="nc-icon nc-zoom-split"></i>
                            </button>
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn btn-danger btn-round"
                                (click)="clearSelection()" [disabled]="!attendDate || selectedActivityCode.length === 0"> 
                                <i class="nc-icon nc-simple-remove"></i>
                            </button>
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn btn-success btn-round" (click)="openModal(updateAttendanceModal)"
                                [disabled]="selectedRow.length === 0">
                                Update
                            </button>
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn btn-danger btn-round"
                                (click)="clearSelection()" [disabled]="selectedRow.length === 0"> 
                                Delete
                            </button>
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn btn-success btn-round"
                                [disabled]="!(attendDate && selectedActivityCode.length > 0)"
                                (click)="openProcessVoidConfirmModal(processVoidConfirmModal);"> UnVoid?
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="form-group">
    <div class="card col-md-12 col-sm-12">
        <div class="card-body">
            <div class="form-group">
                <div class="row boxShadow" (window:resize)="onResize($event)"
                    [style.height]="(height > 350 ? height : 400) + 'px'">
                    <ag-grid-angular #attendanceTable style="width: 100%; height: 100%;"
                        rowSelection="multiple" [localeText]="{noRowsToShow: ''}"
                        [rowData]="attendanceRowData" [columnDefs]="attendanceColumDefs"
                        [class]="tableTheme" [rowMultiSelectWithClick]="true"
                        (selectionChanged)="onRowSelection($event)">
                    </ag-grid-angular>
                </div>
            </div>
        </div>
    </div>
</div>

<ng-template #updateAttendanceModal let-modal>
    <div class="modal-header">
      <h5 class="modal-title">Confirm?</h5>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
        <div class="form-group">
            <div class="card col-md-12 col-sm-12">
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="row">
                                <label class="col-md-3 col-form-label requiredField">
                                    Activity
                                </label>
                                <div class="col-md-9">
                                    <div class="form-group">
                                        <ng-multiselect-dropdown [placeholder]="'-- Select Activity --'"
                                            [settings]="dropdownSettings" [(ngModel)]="selectedActivityCode2"
                                            [data]="allActivityDDList2">
                                        </ng-multiselect-dropdown>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="row">
                                <label class="col-md-3 col-form-label requiredField">
                                    Date
                                </label>
                                <div class="col-md-9">
                                    <div class="form-group">
                                        <input class="form-control" autocomplete="off" id="attendDate" name="date"
                                            class="form-control" [(bsValue)]="attendDate"
                                            value="{{ attendDate | date:'dd-MM-yyyy' }}" placeholder="Attendance Date"
                                            type="text" [bsConfig]="{ isAnimated: true, containerClass: 'theme-dark-blue',
                                            dateInputFormat: 'DD-MM-YYYY' }" bsDatepicker [maxDate]="futureDateDisabled" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-primary" (click)="modal.close('Close click');deleteSelectedAttendance();">Update</button>
      <button type="button" class="btn btn-light" (click)="modal.close('Close click')">No</button>
    </div>
</ng-template>